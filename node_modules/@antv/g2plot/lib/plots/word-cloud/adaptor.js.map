{"version":3,"file":"adaptor.js","sourceRoot":"","sources":["../../../src/plots/word-cloud/adaptor.ts"],"names":[],"mappings":";;;AACA,+CAA4F;AAC5F,qCAAiD;AAEjD,iCAAoC;AAEpC;;;GAGG;AACH,SAAS,QAAQ,CAAC,MAAgC;IACxC,IAAA,KAAK,GAAK,MAAM,MAAX,CAAY;IACzB,IAAM,IAAI,GAAG,iBAAS,CAAC,MAAM,CAAC,CAAC;IAE/B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjB,KAAK,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IAElD,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;GAGG;AACH,SAAS,KAAK,CAAC,MAAgC;IACrC,IAAA,KAAK,GAAc,MAAM,MAApB,EAAE,OAAO,GAAK,MAAM,QAAX,CAAY;IAC1B,IAAA,SAAS,GAAY,OAAO,UAAnB,EAAE,KAAK,GAAK,OAAO,MAAZ,CAAa;IACrC,IAAM,QAAQ,GAAG,oBAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAE9C,QAAQ,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAEjC,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;GAGG;AACH,SAAS,IAAI,CAAC,MAAgC;IAC5C,OAAO,YAAI,CACT,cAAK,CAAC;QACJ,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;QAClB,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE;KACnB,CAAC,CACH,CAAC,MAAM,CAAC,CAAC;AACZ,CAAC;AAED;;;GAGG;AACH,SAAS,KAAK,CAAC,MAAgC;IACrC,IAAA,KAAK,GAAK,MAAM,MAAX,CAAY;IAEzB,KAAK,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAEhC,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;;GAIG;AACH,SAAS,IAAI,CAAC,MAAgC;IACpC,IAAA,KAAK,GAAK,MAAM,MAAX,CAAY;IAEzB,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAElB,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;;GAIG;AACH,SAAS,KAAK,CAAC,MAAgC;IACrC,IAAA,KAAK,GAAK,MAAM,MAAX,CAAY;IACzB,IAAM,QAAQ,GAAG,oBAAY,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;IAE9C,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAEtB,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;;GAIG;AACH,SAAS,MAAM,CAAC,MAAgC;IACtC,IAAA,KAAK,GAAK,MAAM,MAAX,CAAY;IAEzB,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAEpB,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;;GAIG;AACH,SAAgB,OAAO,CAAC,MAAgC;IACtD,0BAA0B;IAC1B,YAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,gBAAO,EAAE,oBAAW,EAAE,kBAAS,EAAE,cAAK,EAAE,cAAK,CAAC,CAAC,MAAM,CAAC,CAAC;AACjH,CAAC;AAHD,0BAGC","sourcesContent":["import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, findGeometry } from '../../utils';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\n\n/**\n * geometry 配置处理\n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart } = params;\n  const data = transform(params);\n\n  chart.data(data);\n  chart.point().position('x*y').shape('word-cloud');\n\n  return params;\n}\n\n/**\n * color 配置处理\n * @param params\n */\nfunction color(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { wordField, color } = options;\n  const geometry = findGeometry(chart, 'point');\n\n  geometry.color(wordField, color);\n\n  return params;\n}\n\n/**\n * meta 配置\n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n * coord 配置\n * @param params\n */\nfunction coord(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart } = params;\n\n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * axis 配置\n * 词云图不显示轴信息\n * @param params\n */\nfunction axis(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart } = params;\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * label 配置\n * 词云图不显示 label 信息\n * @param params\n */\nfunction label(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart } = params;\n  const geometry = findGeometry(chart, 'point');\n\n  geometry.label(false);\n\n  return params;\n}\n\n/**\n * legend 配置\n * 词云图不显示 legend 信息\n * @param params\n */\nfunction legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * 词云图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow 的方式处理所有的配置到 G2 API\n  flow(geometry, meta, coord, axis, label, color, legend, tooltip, interaction, animation, theme, state)(params);\n}\n"]}