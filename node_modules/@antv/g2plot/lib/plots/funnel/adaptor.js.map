{"version":3,"file":"adaptor.js","sourceRoot":"","sources":["../../../src/plots/funnel/adaptor.ts"],"names":[],"mappings":";;;AACA,+CAA8E;AAC9E,qCAAmC;AAEnC,4CAAiD;AACjD,gDAAqD;AACrD,8DAAkE;AAElE;;;;;;;;;;;GAWG;AACH,SAAS,QAAQ,CAAC,MAAoC;IAC5C,IAAA,OAAO,GAAK,MAAM,QAAX,CAAY;IACnB,IAAA,YAAY,GAAoB,OAAO,aAA3B,EAAE,aAAa,GAAK,OAAO,cAAZ,CAAa;IAChD,IAAI,YAAY,EAAE;QAChB,OAAO,uBAAa,CAAC,MAAM,CAAC,CAAC;KAC9B;IACD,IAAI,aAAa,EAAE;QACjB,OAAO,oCAAmB,CAAC,MAAM,CAAC,CAAC;KACpC;IAED,OAAO,mBAAW,CAAC,MAAM,CAAC,CAAC;AAC7B,CAAC;AAED;;;GAGG;AACH,SAAS,IAAI,CAAC,MAAoC;IACxC,IAAA,KAAK,GAAK,MAAM,MAAX,CAAY;IACzB,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAClB,OAAO,MAAM,CAAC;AAChB,CAAC;AAED;;;;GAIG;AACH,SAAgB,OAAO,CAAC,MAAoC;IAC1D,0BAA0B;IAC1B,OAAO,YAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,gBAAO,EAAE,oBAAW,EAAE,kBAAS,EAAE,cAAK,CAAC,CAAC,MAAM,CAAC,CAAC;AAC9E,CAAC;AAHD,0BAGC","sourcesContent":["import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { FunnelAdaptorOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\n\n/**\n *\n * 各式漏斗图实现细节有较大不同\n * 1. 普通漏斗图：interval.shape('funnel')\n * 2. 对比漏斗图：分面\n * 3. 动态高度漏斗图：polypon\n* /\n\n/**\n * geometry处理\n * @param params\n */\nfunction geometry(params: Params<FunnelAdaptorOptions>): Params<FunnelAdaptorOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight } = options;\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * 坐标轴\n * @param params\n */\nfunction axis(params: Params<FunnelAdaptorOptions>): Params<FunnelAdaptorOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * 漏斗图适配器\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelAdaptorOptions>) {\n  // flow 的方式处理所有的配置到 G2 API\n  return flow(geometry, axis, tooltip, interaction, animation, theme)(params);\n}\n"]}