{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/plots/funnel/index.ts"],"names":[],"mappings":";;;;AAAA,mCAAqC;AACrC,wCAAuC;AAGvC,qCAAoC;AAIpC;IAA4B,kCAAmB;IAA/C;QAAA,qEA8BC;QA7BC,WAAW;QACJ,UAAI,GAAW,QAAQ,CAAC;;IA4BjC,CAAC;IA1BC;;OAEG;IACO,kCAAiB,GAA3B,UAA4B,OAAsB;QACxC,IAAA,YAAY,GAAK,OAAO,aAAZ,CAAa;QACjC,OAAO,cAAO,CAAC,EAAE,EAAE,iBAAM,iBAAiB,WAAE,EAAE;YAC5C,UAAU,EAAE,YAAY,CAAC,CAAC,CAAC,UAAC,MAAM,EAAE,MAAM,IAAK,OAAA,KAAG,MAAQ,EAAX,CAAW,CAAC,CAAC,CAAC,UAAC,MAAM,EAAE,MAAM,IAAK,OAAG,MAAM,SAAI,MAAQ,EAArB,CAAqB;YACtG,KAAK,EAAE;gBACL,QAAQ,EAAE,UAAC,MAAM,EAAE,MAAM,EAAE,OAAO;oBAChC,OAAO;wBACL,OAAO,EAAE,uBAAM,CAAC,OAAO,GAAG,GAAG,MAAG;qBACjC,CAAC;gBACJ,CAAC;aACF;YACD,OAAO,EAAE;gBACP,cAAc,EAAE,KAAK;aACtB;SACF,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACO,iCAAgB,GAA1B;QACE,OAAO,iBAAO,CAAC;IACjB,CAAC;IACH,aAAC;AAAD,CAAC,AA9BD,CAA4B,WAAI,GA8B/B;AA9BY,wBAAM","sourcesContent":["import { deepMix } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport { FunnelOptions };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /** 图表类型 */\n  public type: string = 'funnel';\n\n  /**\n   * 获取 漏斗图 默认配置项\n   */\n  protected getDefaultOptions(options: FunnelOptions): Partial<FunnelOptions> {\n    const { compareField } = options;\n    return deepMix({}, super.getDefaultOptions(), {\n      annotation: compareField ? (xField, yField) => `${yField}` : (xField, yField) => `${xField} ${yField}`,\n      label: {\n        callback: (xField, yField, percent) => {\n          return {\n            content: `转化率${+percent * 100}%`,\n          };\n        },\n      },\n      tooltip: {\n        showCrosshairs: false,\n      },\n    });\n  }\n\n  /**\n   * 获取 漏斗图 的适配器\n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n}\n"]}