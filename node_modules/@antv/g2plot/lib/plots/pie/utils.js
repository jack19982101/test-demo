"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parsePercentageToNumber = exports.getTotalValue = void 0;
var util_1 = require("@antv/util");
var utils_1 = require("../../utils");
/**
 * 获取总计值
 * @param data
 * @param field
 */
function getTotalValue(data, field) {
    var total = null;
    util_1.each(data, function (item) {
        if (typeof item[field] === 'number') {
            total += item[field];
        }
    });
    return total;
}
exports.getTotalValue = getTotalValue;
/**
 * 将 字符串的百分比 转换为 数值百分比
 */
function parsePercentageToNumber(percentage) {
    utils_1.log(utils_1.LEVEL.WARN, !util_1.isString(percentage), 'invalid string');
    if (!util_1.isString(percentage)) {
        return percentage;
    }
    if (percentage.endsWith('%')) {
        return Number(percentage.slice(0, -1)) * 0.01;
    }
    return Number(percentage);
}
exports.parsePercentageToNumber = parsePercentageToNumber;
//# sourceMappingURL=utils.js.map