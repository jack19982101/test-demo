{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../../src/plots/pie/utils.ts"],"names":[],"mappings":";;;AACA,mCAA4C;AAC5C,qCAAyC;AAEzC;;;;GAIG;AACH,SAAgB,aAAa,CAAC,IAAU,EAAE,KAAa;IACrD,IAAI,KAAK,GAAG,IAAI,CAAC;IACjB,WAAI,CAAC,IAAI,EAAE,UAAC,IAAI;QACd,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,QAAQ,EAAE;YACnC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;SACtB;IACH,CAAC,CAAC,CAAC;IACH,OAAO,KAAK,CAAC;AACf,CAAC;AARD,sCAQC;AAED;;GAEG;AACH,SAAgB,uBAAuB,CAAC,UAAkB;IACxD,WAAG,CAAC,aAAK,CAAC,IAAI,EAAE,CAAC,eAAQ,CAAC,UAAU,CAAC,EAAE,gBAAgB,CAAC,CAAC;IAEzD,IAAI,CAAC,eAAQ,CAAC,UAAU,CAAC,EAAE;QACzB,OAAO,UAAiB,CAAC;KAC1B;IAED,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QAC5B,OAAO,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;KAC/C;IACD,OAAO,MAAM,CAAC,UAAU,CAAC,CAAC;AAC5B,CAAC;AAXD,0DAWC","sourcesContent":["import { Data } from '@antv/g2/lib/interface';\nimport { each, isString } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\n\n/**\n * 获取总计值\n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * 将 字符串的百分比 转换为 数值百分比\n */\nexport function parsePercentageToNumber(percentage: string): number {\n  log(LEVEL.WARN, !isString(percentage), 'invalid string');\n\n  if (!isString(percentage)) {\n    return percentage as any;\n  }\n\n  if (percentage.endsWith('%')) {\n    return Number(percentage.slice(0, -1)) * 0.01;\n  }\n  return Number(percentage);\n}\n"]}