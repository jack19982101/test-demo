{"version":3,"file":"line.js","sourceRoot":"","sources":["../../../src/adaptor/geometries/line.ts"],"names":[],"mappings":";;;;AAAA,mCAAqC;AAGrC,+BAAmD;AA4BnD;;;GAGG;AACH,SAAgB,IAAI,CAAgC,MAAiB;IAC3D,IAAA,OAAO,GAAK,MAAM,QAAX,CAAY;IACnB,IAAA,IAAI,GAAkD,OAAO,KAAzD,EAAE,QAAQ,GAAwC,OAAO,SAA/C,EAAE,WAAW,GAA2B,OAAO,YAAlC,EAAE,MAAM,GAAmB,OAAO,OAA1B,EAAE,YAAY,GAAK,OAAO,aAAZ,CAAa;IAEtE,UAAU;IACV,OAAO,IAAI;QACT,CAAC,CAAC,eAAQ,CACN,cAAO,CAAC,EAAE,EAAE,MAAM,EAAE;YAClB,OAAO,EAAE;gBACP,IAAI,EAAE,MAAM;gBACZ,UAAU,EAAE,WAAW;gBACvB,OAAO,qBACL,KAAK,EAAE,QAAQ,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,IAC5C,IAAI,CACR;gBACD,IAAI,EAAE,EAAE,YAAY,cAAA,EAAE;aACvB;SACF,CAAC,CACH;QACH,CAAC,CAAC,MAAM,CAAC;AACb,CAAC;AApBD,oBAoBC","sourcesContent":["import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, StyleAttr, SizeAttr } from '../../types';\nimport { GeometryOptions, geometry } from './base';\n\ntype LineOption = {\n  /** line color 映射, 提供回调的方式, 不开放 field 映射配置 */\n  readonly color?: ColorAttr;\n  /** 样式映射 */\n  readonly style?: StyleAttr;\n  /** 折线宽度 */\n  readonly size?: SizeAttr;\n};\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x 轴字段 */\n  readonly xField?: string;\n  /** y 轴字段 */\n  readonly yField?: string;\n  /** 分组字段 */\n  readonly seriesField?: string;\n  /** 是否平滑 */\n  readonly smooth?: boolean;\n  /** 是否连接空数据 */\n  readonly connectNulls?: boolean;\n  /** line 映射配置 */\n  readonly line?: LineOption;\n  /** 阶梯折线图类型 */\n  readonly stepType?: string;\n}\n\n/**\n * line 辅助点的配置处理\n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, seriesField, smooth, connectNulls } = options;\n\n  // 如果存在才处理\n  return line\n    ? geometry(\n        deepMix({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            mapping: {\n              shape: stepType || (smooth ? 'smooth' : 'line'),\n              ...line,\n            },\n            args: { connectNulls },\n          },\n        })\n      )\n    : params;\n}\n"]}